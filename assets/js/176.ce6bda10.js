(window.webpackJsonp=window.webpackJsonp||[]).push([[176],{313:function(t,e,a){"use strict";a.r(e);var s=a(0),c=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"进阶-6：看看我都改了什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#进阶-6：看看我都改了什么","aria-hidden":"true"}},[t._v("#")]),t._v(" 进阶 6：看看我都改了什么")]),a("p",[t._v("之前的章节里，说到过 "),a("code",[t._v("git log")]),t._v(" 可以查看历史记录：")]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git log\n")])])]),a("p",[a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2017/11/22/15fe1ee0e2cc90e9?w=533&h=449&f=jpeg&s=134977",alt:""}})]),a("p",[t._v("事实上，如果你希望看到更多细节，比如你想看看每条 "),a("code",[t._v("commit")]),t._v(" 具体都有那些改动，也是可以的。")]),a("h2",{attrs:{id:"log-p-查看详细历史"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#log-p-查看详细历史","aria-hidden":"true"}},[t._v("#")]),t._v(" log -p 查看详细历史")]),a("p",[a("code",[t._v("-p")]),t._v(" 是 "),a("code",[t._v("--patch")]),t._v(" 的缩写，通过 "),a("code",[t._v("-p")]),t._v(" 参数，你可以看到具体每个 "),a("code",[t._v("commit")]),t._v(" 的改动细节：")]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git log -p\n")])])]),a("p",[a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2017/11/22/15fe1ee0dfd781e7?w=581&h=602&f=jpeg&s=163883",alt:""}})]),a("p",[a("code",[t._v("log -p")]),t._v(" 可以看到每一个 "),a("code",[t._v("commit")]),t._v(" 的每一行改动，所以很适合用于代码 review。")]),a("h2",{attrs:{id:"log-stat-查看简要统计"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#log-stat-查看简要统计","aria-hidden":"true"}},[t._v("#")]),t._v(" log --stat 查看简要统计")]),a("p",[t._v("如果你只想大致看一下改动内容，但并不想深入每一行的细节（例如你想回顾一下自己是在哪个 "),a("code",[t._v("commit")]),t._v(" 中修改了 "),a("code",[t._v("games.txt")]),t._v(" 文件），那么可以把选项换成 "),a("code",[t._v("--stat")]),t._v("。")]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git log --stat\n")])])]),a("p",[a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2017/11/22/15fe1ee0e1ad48c7?w=539&h=512&f=jpeg&s=139383",alt:""}})]),a("h2",{attrs:{id:"show-查看具体的-commit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#show-查看具体的-commit","aria-hidden":"true"}},[t._v("#")]),t._v(" show 查看具体的 commit")]),a("p",[t._v("如果你想看某个具体的 "),a("code",[t._v("commit")]),t._v(" 的改动内容，可以用 "),a("code",[t._v("show")]),t._v("：")]),a("h3",{attrs:{id:"看当前-commit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#看当前-commit","aria-hidden":"true"}},[t._v("#")]),t._v(" 看当前 commit")]),a("p",[t._v("直接输入：")]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git show\n")])])]),a("p",[a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2017/11/22/15fe1ee0e2b7738e?w=540&h=330&f=jpeg&s=78967",alt:""}})]),a("h3",{attrs:{id:"看任意一个-commit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#看任意一个-commit","aria-hidden":"true"}},[t._v("#")]),t._v(" 看任意一个 commit")]),a("p",[t._v("在 "),a("code",[t._v("show")]),t._v(" 后面加上这个 "),a("code",[t._v("commit")]),t._v(" 的引用（"),a("code",[t._v("branch")]),t._v(" 或 "),a("code",[t._v("HEAD")]),t._v(" 标记）或它的 "),a("code",[t._v("SHA-1")]),t._v(" 码：")]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git show 5e68b0d8\n")])])]),a("p",[a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2017/11/22/15fe1ee0e39c0b6b?w=434&h=388&f=jpeg&s=100518",alt:""}})]),a("h3",{attrs:{id:"看指定-commit-中的指定文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#看指定-commit-中的指定文件","aria-hidden":"true"}},[t._v("#")]),t._v(" 看指定 commit 中的指定文件")]),a("p",[t._v("在 "),a("code",[t._v("commit")]),t._v(" 的引用或 "),a("code",[t._v("SHA-1")]),t._v(" 后输入文件名：")]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git show 5e68b0d8 shopping\\ list.txt\n")])])]),a("h2",{attrs:{id:"看未提交的内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#看未提交的内容","aria-hidden":"true"}},[t._v("#")]),t._v(" 看未提交的内容")]),a("p",[t._v("如果你想看未提交的内容，可以用 "),a("code",[t._v("diff")]),t._v("。")]),a("h3",{attrs:{id:"比对暂存区和上一条提交"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#比对暂存区和上一条提交","aria-hidden":"true"}},[t._v("#")]),t._v(" 比对暂存区和上一条提交")]),a("p",[t._v("使用 "),a("code",[t._v("git diff --staged")]),t._v(" 可以显示暂存区和上一条提交之间的不同。换句话说，这条指令可以让你看到「如果你立即输入 "),a("code",[t._v("git commit")]),t._v("，你将会提交什么」：")]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git diff --staged\n")])])]),a("p",[a("code",[t._v("--staged")]),t._v(" 有一个等价的选项叫做 "),a("code",[t._v("--cached")]),t._v("。这里所谓的「等价」，是真真正正的等价，它们的意思完全相同。")]),a("h3",{attrs:{id:"比对工作目录和暂存区"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#比对工作目录和暂存区","aria-hidden":"true"}},[t._v("#")]),t._v(" 比对工作目录和暂存区")]),a("p",[t._v("使用 "),a("code",[t._v("git diff")]),t._v(" （不加选项参数）可以显示工作目录和暂存区之间的不同。换句话说，这条指令可以让你看到「如果你现在把所有文件都 "),a("code",[t._v("add")]),t._v("，你会向暂存区中增加哪些内容」：")]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git diff\n")])])]),a("h3",{attrs:{id:"比对工作目录和上一条提交"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#比对工作目录和上一条提交","aria-hidden":"true"}},[t._v("#")]),t._v(" 比对工作目录和上一条提交")]),a("p",[t._v("使用 "),a("code",[t._v("git diff HEAD")]),t._v(" 可以显示工作目录和上一条提交之间的不同，它是上面这二者的内容相加。换句话说，这条指令可以让你看到「如果你现在把所有文件都 "),a("code",[t._v("add")]),t._v(" 然后 "),a("code",[t._v("git commit")]),t._v("，你将会提交什么」（不过需要注意，没有被 Git 记录在案的文件（即从来没有被 add 过 的文件，untracked files 并不会显示出来。为什么？因为对 Git 来说它并不存在啊）。")]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git diff HEAD\n")])])]),a("p",[t._v("实质上，如果你把 "),a("code",[t._v("HEAD")]),t._v(" 换成别的 "),a("code",[t._v("commit")]),t._v("，也可以显示当前工作目录和这条 "),a("code",[t._v("commit")]),t._v(" 的区别。不过这种「如果」是可以列举很多很多的，Git 非常灵活，假如我把每个命令的所有可能性都列举出来，这本小册会变得杂乱无比没有重点，反而会让你困惑。所以我只讲最常用和最通用的内容，如果你对这些「如果」感兴趣，最好是自己去探索。")]),a("h2",{attrs:{id:"小结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结","aria-hidden":"true"}},[t._v("#")]),t._v(" 小结")]),a("p",[t._v("这一节介绍了一些查看改动内容的方法，大致有这么几类：")]),a("ol",[a("li",[t._v("查看历史中的多个 "),a("code",[t._v("commit")]),t._v("："),a("code",[t._v("log")]),a("ol",[a("li",[t._v("查看详细改动： "),a("code",[t._v("git log -p")])]),a("li",[t._v("查看大致改动："),a("code",[t._v("git log --stat")])])])]),a("li",[t._v("查看具体某个 "),a("code",[t._v("commit")]),t._v("："),a("code",[t._v("show")]),a("ol",[a("li",[t._v("要看最新 "),a("code",[t._v("commit")]),t._v(" ，直接输入 "),a("code",[t._v("git show")]),t._v(" ；要看指定 "),a("code",[t._v("commit")]),t._v(" ，输入 "),a("code",[t._v("git show commit的引用或SHA-1")])]),a("li",[t._v("如果还要指定文件，在 "),a("code",[t._v("git show")]),t._v(" 的最后加上文件名")])])]),a("li",[t._v("查看未提交的内容："),a("code",[t._v("diff")]),a("ol",[a("li",[t._v("查看暂存区和上一条 "),a("code",[t._v("commit")]),t._v(" 的区别："),a("code",[t._v("git diff --staged")]),t._v("（或 "),a("code",[t._v("--cached")]),t._v("）")]),a("li",[t._v("查看工作目录和暂存区的区别："),a("code",[t._v("git diff")]),t._v(" 不加选项参数")]),a("li",[t._v("查看工作目录和上一条 "),a("code",[t._v("commit")]),t._v(" 的区别："),a("code",[t._v("git diff HEAD")])])])])])])}],!1,null,null,null);e.default=c.exports}}]);