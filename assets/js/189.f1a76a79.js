(window.webpackJsonp=window.webpackJsonp||[]).push([[189],{333:function(c,e,t){"use strict";t.r(e);var a=t(0),v=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var c=this,e=c.$createElement,t=c._self._c||e;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"高级-8：checkout-的本质"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#高级-8：checkout-的本质","aria-hidden":"true"}},[c._v("#")]),c._v(" 高级 8：checkout 的本质")]),t("p",[c._v("在前面的 "),t("code",[c._v("branch")]),c._v(" 的部分，我说到 "),t("code",[c._v("checkout")]),c._v(" 可以用来切换 "),t("code",[c._v("branch")]),c._v("：")]),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[c._v("git checkout branch2\n")])])]),t("p",[t("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2017/11/30/160089d53b4f65a5?w=458&h=572&f=gif&s=103354",alt:"checkout"}})]),t("p",[c._v("不过实质上，"),t("code",[c._v("checkout")]),c._v(" 并不止可以切换 "),t("code",[c._v("branch")]),c._v("。"),t("code",[c._v("checkout")]),c._v(" 本质上的功能其实是：签出（ checkout ）指定的 "),t("code",[c._v("commit")]),c._v("。")]),t("p",[t("code",[c._v("git checkout branch名")]),c._v(" 的本质，其实是把 "),t("code",[c._v("HEAD")]),c._v(" 指向指定的 "),t("code",[c._v("branch")]),c._v("，然后签出这个 "),t("code",[c._v("branch")]),c._v(" 所对应的 "),t("code",[c._v("commit")]),c._v(" 的工作目录。所以同样的，"),t("code",[c._v("checkout")]),c._v(" 的目标也可以不是 "),t("code",[c._v("branch")]),c._v("，而直接指定某个 "),t("code",[c._v("commit")]),c._v("：")]),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[c._v("git checkout HEAD^^\n")])])]),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[c._v("git checkout master~5\n")])])]),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[c._v("git checkout 78a4bc\n")])])]),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[c._v("git checkout 78a4bc^\n")])])]),t("p",[c._v("这些都是可以的。")]),t("p",[c._v("另外，如果你留心的话可能会发现，在 "),t("code",[c._v("git status")]),c._v(" 的提示语中，Git 会告诉你可以用 "),t("code",[c._v("checkout -- 文件名")]),c._v(" 的格式，通过「签出」的方式来撤销指定文件的修改：")]),t("p",[t("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2017/11/22/15fe34cc387ba541?w=616&h=160&f=jpeg&s=58078",alt:""}})]),t("h2",{attrs:{id:"小结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#小结","aria-hidden":"true"}},[c._v("#")]),c._v(" 小结")]),t("p",[c._v("这节的内容是对 "),t("code",[c._v("checkout")]),c._v(" 的本质进行简述：")]),t("p",[t("code",[c._v("checkout")]),c._v(" 的本质是签出指定的 "),t("code",[c._v("commit")]),c._v("，所以你不止可以切换 "),t("code",[c._v("branch")]),c._v("，也可以直接指定 "),t("code",[c._v("commit")]),c._v(" 作为参数，来把 "),t("code",[c._v("HEAD")]),c._v(" 移动到指定的 "),t("code",[c._v("commit")]),c._v("。")]),t("h2",{attrs:{id:"checkout-和-reset-的不同"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#checkout-和-reset-的不同","aria-hidden":"true"}},[c._v("#")]),c._v(" checkout 和 reset 的不同")]),t("p",[t("code",[c._v("checkout")]),c._v(" 和 "),t("code",[c._v("reset")]),c._v(" 都可以切换 "),t("code",[c._v("HEAD")]),c._v(" 的位置，它们除了有许多细节的差异外，最大的区别在于："),t("code",[c._v("reset")]),c._v(" 在移动 "),t("code",[c._v("HEAD")]),c._v(" 时会带着它所指向的 "),t("code",[c._v("branch")]),c._v(" 一起移动，而 "),t("code",[c._v("checkout")]),c._v(" 不会。当你用 "),t("code",[c._v("checkout")]),c._v(" 指向其他地方的时候，"),t("code",[c._v("HEAD")]),c._v(" 和 它所指向的 "),t("code",[c._v("branch")]),c._v(" 就自动脱离了。")]),t("p",[c._v("事实上，"),t("code",[c._v("checkout")]),c._v(" 有一个专门用来只让 "),t("code",[c._v("HEAD")]),c._v(" 和 "),t("code",[c._v("branch")]),c._v(" 脱离而不移动 "),t("code",[c._v("HEAD")]),c._v(" 的用法：")]),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[c._v("git checkout --detach\n")])])]),t("p",[c._v("执行这行代码，Git 就会把 "),t("code",[c._v("HEAD")]),c._v(" 和 "),t("code",[c._v("branch")]),c._v(" 脱离，直接指向当前 "),t("code",[c._v("commit")]),c._v("：")]),t("p",[t("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2017/11/30/1600acce7b90b009?w=590&h=472&f=gif&s=94227",alt:"git checkout --detach"}})])])}],!1,null,null,null);e.default=v.exports}}]);