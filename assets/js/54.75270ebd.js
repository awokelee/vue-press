(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{284:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"vue-项目里戳中你痛点的问题及解决办法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-项目里戳中你痛点的问题及解决办法","aria-hidden":"true"}},[t._v("#")]),t._v(" Vue 项目里戳中你痛点的问题及解决办法")]),a("ul",[a("li",[t._v("列表进入详情页的传参问题")]),a("li",[t._v("本地开发环境请求服务器接口跨域的问题")]),a("li",[a("code",[t._v("API")]),t._v(" 接口的统一管理")]),a("li",[a("code",[t._v("UI库")]),t._v(" 的按需加载定时器问题")]),a("li",[a("code",[t._v("rem")]),t._v(" 文件的导入问题")]),a("li",[a("code",[t._v("Vue-Awesome-Swiper")]),t._v(" 基本能解决你所有的轮播需求")]),a("li",[t._v("打包后生成很大的 "),a("code",[t._v(".map")]),t._v(" 文件的问题")]),a("li",[a("code",[t._v("fastClick")]),t._v(" 的 "),a("code",[t._v("300ms")]),t._v(" 延迟解决方案")]),a("li",[t._v("组件中写选项的顺序")]),a("li",[t._v("路由懒加载（也叫延迟加载）")]),a("li",[t._v("开启 "),a("code",[t._v("gzip")]),t._v(" 压缩代码详情页返回列表页缓存数据和浏览位置、其他页面进入列表页刷洗数据的实践")]),a("li",[a("code",[t._v("css")]),t._v(" 的 "),a("code",[t._v("scoped")]),t._v(" 私有作用域和深度选择器")])]),a("h2",{attrs:{id:"列表进入详情页的传参问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#列表进入详情页的传参问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 列表进入详情页的传参问题")]),a("p",[t._v("例如商品列表页面前往商品详情页面，需要传一个商品id;")]),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("router-link")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v(":to")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{path: "),a("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v("detail"),a("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v(", query: {id: 1}}"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("前往detail页面"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("router-link")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("c页面的路径为 "),a("code",[t._v("http://localhost:8080/#/detail?id=1")]),t._v("，可以看到传了一个参数 "),a("code",[t._v("id=1")]),t._v("，并且就算刷新页面"),a("code",[t._v("id")]),t._v("也还会存在。此时在c页面可以通过"),a("code",[t._v("id")]),t._v("来获取对应的详情数据，获取"),a("code",[t._v("id")]),t._v("的方式是"),a("code",[t._v("this.$route.query.id")])]),a("p",[a("code",[t._v("vue")]),t._v("传参方式有："),a("code",[t._v("query")]),t._v("、"),a("code",[t._v("params")]),t._v("+动态路由传参")]),a("p",[t._v("说下两者的区别：")]),a("ul",[a("li",[t._v("1."),a("code",[t._v("query")]),t._v("通过"),a("code",[t._v("path")]),t._v("切换路由，"),a("code",[t._v("params")]),t._v("通过"),a("code",[t._v("name")]),t._v("切换路由")])]),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v("// query通过path切换路由\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("router-link")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v(":to")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{path: "),a("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v("Detail"),a("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v(", query: { id: 1 }}"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("前往Detail页面"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("router-link")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n// params通过name切换路由\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("router-link")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v(":to")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{name: "),a("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v("Detail"),a("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v(", params: { id: 1 }}"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("前往Detail页面"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("router-link")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("ul",[a("li",[t._v("2."),a("code",[t._v("query")]),t._v("通过"),a("code",[t._v("this.$route.query")]),t._v("来接收参数，"),a("code",[t._v("params")]),t._v("通过"),a("code",[t._v("this.$route.params")]),t._v("来接收参数")])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// query通过this.$route.query接收参数")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("created")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" id "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$route"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("query"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// params通过this.$route.params来接收参数")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("created")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" id "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$route"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("3."),a("code",[t._v("query")]),t._v("传参的"),a("code",[t._v("url")]),t._v("展现方式："),a("code",[t._v("/detail?id=1&user=123&identity=1&更多参数")])])]),a("p",[t._v("params＋动态路由的url方式：/detail/123")]),a("ul",[a("li",[t._v("4."),a("code",[t._v("params")]),t._v("动态路由传参，一定要在路由中定义参数，然后在路由跳转的时候必须要加上参数，否则就是空白页面：")])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  path"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'/detail/:id'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  name"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'Detail'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  component"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Detail\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("p",[t._v("注意，"),a("code",[t._v("params")]),t._v("传参时，如果没有在路由中定义参数，也是可以传过去的，同时也能接收到，但是一旦刷新页面，这个参数就不存在了。这对于需要依赖参数进行某些操作的行为是行不通的，因为你总不可能要求用户不能刷新页面吧。 例如：")]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 定义的路由中，只定义一个id参数")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    path"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'detail/:id'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    name"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'Detail'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    components"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Detail\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// template中的路由传参，")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 传了一个id参数和一个token参数")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// id是在路由中已经定义的参数，而token没有定义")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("router"),a("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("link "),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("to"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v("\"{name: 'Detail', params: { id: 1, token: '123456' }}\"")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("前往Detail页面"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("router"),a("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("link"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 在详情页接收")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("created")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// 以下都可以正常获取到")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// 但是页面刷新后，id依然可以获取，而token此时就不存在了")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" id "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$route"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" token "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$route"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("params"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("token"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"本地开发环境请求服务器接口跨域的问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#本地开发环境请求服务器接口跨域的问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 本地开发环境请求服务器接口跨域的问题")]),a("p",[a("code",[t._v("Access-Control-Allow-Origin")]),t._v(" ... "),a("code",[t._v("not allowed access")])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("proxyTable"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token string"}},[t._v("'/api'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        target"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'http://xxxxxx.com'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 接口的域名")]),t._v("\n        "),a("span",{attrs:{class:"token comment"}},[t._v("// secure: false,  // 如果是https接口，需要配置这个参数")]),t._v("\n        changeOrigin"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 如果接口跨域，需要进行这个参数配置")]),t._v("\n        pathRewrite"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{attrs:{class:"token string"}},[t._v("'^/api'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("h2",{attrs:{id:"定时器问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#定时器问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 定时器问题")]),a("h3",{attrs:{id:"方法一"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法一","aria-hidden":"true"}},[t._v("#")]),t._v(" 方法一")]),a("ul",[a("li",[t._v("定义")])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("data")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        timer"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("null")]),t._v("  "),a("span",{attrs:{class:"token comment"}},[t._v("// 定时器名称")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("ul",[a("li",[t._v("使用")])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// 某些操作")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1000")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("清除")])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("beforeDestroy")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("clearInterval")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("null")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"方法二"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法二","aria-hidden":"true"}},[t._v("#")]),t._v(" 方法二")]),a("p",[t._v("该方法是通过"),a("code",[t._v("$once")]),t._v("这个事件侦听器器在定义完定时器之后的位置来清除定时器")]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" timer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("setInterval")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// 某些定时器操作")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("500")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 通过$once来监听定时器，在beforeDestroy钩子可以被清除。")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("$once")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'hook:beforeDestroy'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("clearInterval")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timer"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"rem文件的导入问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rem文件的导入问题","aria-hidden":"true"}},[t._v("#")]),t._v(" rem文件的导入问题")]),a("p",[t._v("根据网页尺寸计算"),a("code",[t._v("html")]),t._v("的"),a("code",[t._v("font-size")]),t._v("大小")]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("c"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("d"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" e"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v("document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("a"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"orientationchange"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("in")]),t._v(" window"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token string"}},[t._v('"orientationchange"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"resize"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("b")]),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" f"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("e"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientWidth"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("e"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fontSize"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f"),a("span",{attrs:{class:"token operator"}},[t._v(">=")]),a("span",{attrs:{class:"token number"}},[t._v("750")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token string"}},[t._v('"100px"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{attrs:{class:"token number"}},[t._v("100")]),a("span",{attrs:{class:"token operator"}},[t._v("*")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f"),a("span",{attrs:{class:"token operator"}},[t._v("/")]),a("span",{attrs:{class:"token number"}},[t._v("750")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token operator"}},[t._v("+")]),a("span",{attrs:{class:"token string"}},[t._v('"px"')]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{attrs:{class:"token function"}},[t._v("b")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("c"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("b"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{attrs:{class:"token boolean"}},[t._v("false")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("在"),a("code",[t._v("main.js")]),t._v("中，直接"),a("code",[t._v("import './config/rem'")]),t._v("导入即可。"),a("code",[t._v("import")]),t._v("的路径根据你的文件路径去填写")]),a("h2",{attrs:{id:"打包后生成很大的-map文件的问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打包后生成很大的-map文件的问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 打包后生成很大的.map文件的问题")]),a("p",[t._v("在"),a("code",[t._v("config/index.js")]),t._v("文件中，设置"),a("code",[t._v("productionSourceMap: false")]),t._v(",就可以不生成"),a("code",[t._v(".map")]),t._v("文件")]),a("h2",{attrs:{id:"fastclick的300ms延迟解决方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fastclick的300ms延迟解决方案","aria-hidden":"true"}},[t._v("#")]),t._v(" fastClick的300ms延迟解决方案")]),a("p",[t._v("安装 "),a("code",[t._v("fastClick")]),t._v(":")]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("cnpm install fastclick -S\n")])])]),a("ul",[a("li",[t._v("在"),a("code",[t._v("main.js")]),t._v("中引入"),a("code",[t._v("fastClick")]),t._v("和初始化:")])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" FastClick "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'fastclick'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 引入插件")]),t._v("\nFastClick"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("attach")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 使用 fastclick")]),t._v("\n")])])]),a("h2",{attrs:{id:"查看打包后各文件的体积"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看打包后各文件的体积","aria-hidden":"true"}},[t._v("#")]),t._v(" 查看打包后各文件的体积")]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("npm run build "),a("span",{attrs:{class:"token operator"}},[t._v("--")]),t._v("report "),a("span",{attrs:{class:"token comment"}},[t._v("// 直接运行，然后在浏览器打开http://127.0.0.1:8888/即可查看")]),t._v("\n")])])]),a("p",[t._v("记得运行的时候先把之前"),a("code",[t._v("npm run dev")]),t._v("开启的本地关掉")]),a("h2",{attrs:{id:"路由懒加载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路由懒加载","aria-hidden":"true"}},[t._v("#")]),t._v(" 路由懒加载")]),a("ul",[a("li",[t._v("非懒加载写法：")])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Index "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'@/page/index/index'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Router")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n    routes"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            path"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'/'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            name"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'Index'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            component"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Index\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("路由懒加载写法")])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Router")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  routes"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            path"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'/'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n            name"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'Index'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n            component"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" resolve "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'@/view/index/index'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" resolve"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"开启gzip压缩代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开启gzip压缩代码","aria-hidden":"true"}},[t._v("#")]),t._v(" 开启gzip压缩代码")]),a("p",[a("code",[t._v("spa")]),t._v("这种单页应用，首屏由于一次性加载所有资源，所有首屏加载速度很慢。解决这个问题非常有效的手段之一就是前后端开启"),a("code",[t._v("gizp")]),t._v("（其他还有缓存、路由懒加载等等）。"),a("code",[t._v("gizp")]),t._v("其实就是帮我们减少文件体积，能压缩到"),a("code",[t._v("30%")]),t._v("左右，即"),a("code",[t._v("100k")]),t._v("的文件"),a("code",[t._v("gizp")]),t._v("后大约只有"),a("code",[t._v("30k")]),t._v("。")]),a("p",[a("code",[t._v("vue-cli")]),t._v("初始化的项目中，是默认有此配置的，只需要开启即可。但是需要先安装插件：")]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("cnpm i compression"),a("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("webpack"),a("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("plugin\n")])])]),a("p",[t._v("然后在"),a("code",[t._v("config/index.js")]),t._v("中开启即可:")]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("build"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    ………………\n    productionGzip"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// false不开启gizp，true开启")]),t._v("\n    ………………\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("现在打包的时候，除了会生成之前的文件，还是生成"),a("code",[t._v(".gz")]),t._v("结束的"),a("code",[t._v("gzip")]),t._v("过后的文件。具体实现就是如果客户端支持"),a("code",[t._v("gzip")]),t._v("，那么后台后返回"),a("code",[t._v("gzip")]),t._v("后的文件，如果不支持就返回正常没有"),a("code",[t._v("gzip")]),t._v("的文件。**注意：这里前端进行的打包时的"),a("code",[t._v("gzip")]),t._v("，但是还需要后台服务器的配置。配置是比较简单的，配置几行代码就可以了，一般这个操作可以叫运维小哥哥小姐姐去搞一下，没有运维的让后台去帮忙配置。")]),a("h2",{attrs:{id:"css的scoped私有作用域和深度选择器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#css的scoped私有作用域和深度选择器","aria-hidden":"true"}},[t._v("#")]),t._v(" CSS的scoped私有作用域和深度选择器")]),a("ul",[a("li",[t._v("编译前：")])]),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{attrs:{class:"token selector"}},[t._v("<style scoped>\n.example")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v("color")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" red"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n</style>\n")])])]),a("ul",[a("li",[t._v("编译后：")])]),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{attrs:{class:"token selector"}},[t._v("<style>\n.example[data-v-f3f3eg9]")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v("color")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" red"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("看完你肯定就会明白了，其实是在你写的组件的样式，添加了一个属性而已，这样就实现了所谓的私有作用域。但是也会有弊端，考虑到浏览器渲染各种 "),a("code",[t._v("CSS")]),t._v(" 选择器的方式，当 "),a("code",[t._v("p { color: red }")]),t._v(" 设置了作用域时 (即与特性选择器组合使用时) 会慢很多倍。如果你使用 "),a("code",[t._v("class")]),t._v(" 或者 "),a("code",[t._v("id")]),t._v(" 取而代之，比如 "),a("code",[t._v(".example { color: red }")]),t._v("，性能影响就会消除。所以，在你的样式里，进来避免直接使用标签，取而代之的你可以给标签起个"),a("code",[t._v("class")]),t._v("名。")]),a("p",[t._v("如果你希望 "),a("code",[t._v("scoped")]),t._v(" 样式中的一个选择器能够作用得“更深”，例如影响子组件，你可以使用 "),a("code",[t._v(">>>")]),t._v(" 操作符:")]),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{attrs:{class:"token selector"}},[t._v("<style scoped>\n    .parent >>> .child")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("/* ... */")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n</style>\n")])])]),a("p",[t._v("上述代码将会编译成：")]),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{attrs:{class:"token selector"}},[t._v(".parent[data-v-f3f3eg9] .child")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("/* ... */")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("而对于"),a("code",[t._v("less")]),t._v("或者"),a("code",[t._v("sass")]),t._v("等预编译，是不支持"),a("code",[t._v(">>>")]),t._v("操作符的，可以使用"),a("code",[t._v("/deep/")]),t._v("来替换"),a("code",[t._v(">>>")]),t._v("操作符，例如：")]),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{attrs:{class:"token selector"}},[t._v(".parent /deep/ .child")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("/* ... */")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}],!1,null,null,null);s.default=e.exports}}]);