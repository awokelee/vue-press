(window.webpackJsonp=window.webpackJsonp||[]).push([[193],{339:function(t,e,a){"use strict";a.r(e);var s=a(0),r=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"高级-4：比错还错，想直接丢弃刚写的提交？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#高级-4：比错还错，想直接丢弃刚写的提交？","aria-hidden":"true"}},[t._v("#")]),t._v(" 高级 4：比错还错，想直接丢弃刚写的提交？")]),a("p",[t._v("有的时候，刚写完的 "),a("code",[t._v("commit")]),t._v(" 写得实在太烂，连自己的都看不下去，与其修改它还不如丢掉重写。这种情况，就可以用 "),a("code",[t._v("reset")]),t._v(" 来丢弃最新的提交。")]),a("h2",{attrs:{id:"reset-hard-丢弃最新的提交"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reset-hard-丢弃最新的提交","aria-hidden":"true"}},[t._v("#")]),t._v(" reset --hard 丢弃最新的提交")]),a("p",[t._v("比如你刚写了一个 "),a("code",[t._v("commit")]),t._v("：")]),a("p",[a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2017/11/22/15fe19c8a6101d7f?w=484&h=270&f=gif&s=136318",alt:""}})]),a("p",[a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2017/11/22/15fe19c8a2f08fa1?w=624&h=289&f=jpeg&s=103942",alt:""}})]),a("p",[t._v("写完回头看了看，你觉得「不行这得重新写」。那么你可以用 "),a("code",[t._v("reset --hard")]),t._v(" 来撤销这条 "),a("code",[t._v("commit")]),t._v("。")]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git reset --hard HEAD^\n")])])]),a("blockquote",[a("p",[t._v("HEAD 表示 HEAD^ 往回数一个位置的 "),a("code",[t._v("commit")]),t._v(" ，上节刚说过，记得吧？")])]),a("p",[a("code",[t._v("HEAD^")]),t._v(" 表示你要恢复到哪个 "),a("code",[t._v("commit")]),t._v("。因为你要撤销最新的一个 "),a("code",[t._v("commit")]),t._v("，所以你需要恢复到它的父 "),a("code",[t._v("commit")]),t._v(" ，也就是 "),a("code",[t._v("HEAD^")]),t._v("。那么在这行之后，你的最新一条就被撤销了：")]),a("p",[a("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2017/11/22/15fe19c8a3235853?w=466&h=262&f=gif&s=120940",alt:""}})]),a("p",[t._v("不过，就像图上显示的，你被撤销的那条提交并没有消失，只是你不再用到它了。如果你在撤销它之前记下了它的 "),a("code",[t._v("SHA-1")]),t._v(" 码，那么你还可以通过 "),a("code",[t._v("SHA-1")]),t._v(" 来找到他它。")]),a("h2",{attrs:{id:"小结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结","aria-hidden":"true"}},[t._v("#")]),t._v(" 小结")]),a("p",[t._v("这一节的内容是撤销最新的提交，方式是通过 "),a("code",[t._v("reset --hard")]),t._v("：")]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git reset --hard 目标commit\n")])])])])}],!1,null,null,null);e.default=r.exports}}]);